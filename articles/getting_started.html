<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="cbbplotR">
<title>Getting Started with cbbplotR • cbbplotR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Jost-0.4.8/font.css" rel="stylesheet">
<link href="../deps/JetBrains_Mono-0.4.8/font.css" rel="stylesheet">
<link href="../deps/Oswald-0.4.8/font.css" rel="stylesheet">
<!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Getting Started with cbbplotR">
<meta property="og:description" content="cbbplotR">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">cbbplotR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/getting_started.html">Getting Started with cbbplotR</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/andreweatherman/cbbplotR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Getting Started with cbbplotR</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/andreweatherman/cbbplotR/blob/HEAD/vignettes/getting_started.Rmd" class="external-link"><code>vignettes/getting_started.Rmd</code></a></small>
      <div class="d-none name"><code>getting_started.Rmd</code></div>
    </div>

    
    
<p><code>cbbplotR</code> provides <code>ggplot2</code> and
<code>gt</code> extensions for visualizing college basketball data in a
simple and intuitive manner. With the package, you can design team logo
plots, conference logo plots, and player headshot plots in a matter of
seconds.</p>
<p><code>cbbplotR</code> works best with the <a href="https://cbbdata.aweatherman.com" class="external-link"><code>cbbdata</code> package</a>
– both developed by <a href="https://twitter.com/andreweatherman" class="external-link">Andrew
Weatherman</a> – but includes an <strong>extensive matching</strong>
dictionary that will allow for visualizing data from a variety of
sources. Notably, <code>cbbplotR</code> name matches with:</p>
<ul>
<li><p>Barttorvik</p></li>
<li><p>KenPom</p></li>
<li><p>Synergy (team name, slug, and ID)</p></li>
<li><p>Sports Reference (team name and slug)</p></li>
<li><p>ESPN (team name, slug, abbreviation, display names, and location
names).</p></li>
</ul>
<div class="section level2">
<h2 id="install-the-package">Install the package<a class="anchor" aria-label="anchor" href="#install-the-package"></a>
</h2>
<p>The easiest way to install <code>cbbplotR</code> is by using the
<code>pak</code> package:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="st"><a href="https://pak.r-lib.org/" class="external-link">"pak"</a></span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"pak"</span><span class="op">)</span></span>
<span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pak.html" class="external-link">pak</a></span><span class="op">(</span><span class="st">"andreweatherman/cbbplotR"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="typical-use-cases">Typical use cases<a class="anchor" aria-label="anchor" href="#typical-use-cases"></a>
</h2>
<p>Following this vignette will require installing the
<code>cbbdata</code> package and registering for a free API key:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pak.html" class="external-link">pak</a></span><span class="op">(</span><span class="st">"andreweatherman/cbbdata"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/andreweatherman/cbbplotR" class="external-link">cbbplotR</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">cbbdata</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://gt.rstudio.com" class="external-link">gt</a></span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">acc_team_data</span> <span class="op">&lt;-</span> <span class="fu">cbd_torvik_ratings</span><span class="op">(</span>year <span class="op">=</span> <span class="fl">2024</span>, conf <span class="op">=</span> <span class="st">'ACC'</span><span class="op">)</span></span>
<span><span class="va">conf_data</span> <span class="op">&lt;-</span> <span class="fu">cbd_torvik_conf_factors</span><span class="op">(</span>year <span class="op">=</span> <span class="fl">2024</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">slice</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span></span>
<span><span class="va">facet_data</span> <span class="op">&lt;-</span> <span class="fu">cbbdata</span><span class="fu">::</span><span class="fu">cbd_torvik_ratings_archive</span><span class="op">(</span>year <span class="op">=</span> <span class="fl">2024</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">summarize</span><span class="op">(</span>avg_rating <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">barthag</span><span class="op">)</span>, .by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">conf</span>, <span class="va">date</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">conf</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'ACC'</span>, <span class="st">'B10'</span>, <span class="st">'B12'</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="team-logos">Team Logos<a class="anchor" aria-label="anchor" href="#team-logos"></a>
</h3>
<p>Generating logo plots can be achieved by using the
<code>geom_cbb_teams</code> function while specifying an
<code>aes</code> layer that points to the proper <code>team</code>
column in your data. Let’s create a simple logo plot that visualizes
adjusted efficiencies in the ACC.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">acc_team_data</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">adj_o</span>, <span class="va">adj_d</span>, team <span class="op">=</span> <span class="va">team</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/geom_cbb_teams.html">geom_cbb_teams</a></span><span class="op">(</span>width <span class="op">=</span> <span class="fl">0.10</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/geom_lines.html">geom_mean_lines</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x0 <span class="op">=</span> <span class="va">adj_o</span>, y0 <span class="op">=</span> <span class="va">adj_d</span><span class="op">)</span>, color <span class="op">=</span> <span class="st">'black'</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>plot.title.position <span class="op">=</span> <span class="st">'plot'</span>,</span>
<span>        plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>face <span class="op">=</span> <span class="st">'bold'</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">'Adjusted Efficiencies in the ACC'</span>,</span>
<span>       x <span class="op">=</span> <span class="st">'Adjusted Offense'</span>,</span>
<span>       y <span class="op">=</span> <span class="st">'Adjusted Defense'</span><span class="op">)</span></span></code></pre></div>
<p><img src="plot1.png"><!-- --></p>
<p>And with just a few functions, we have pulled our data, plotted team
values, drawn conference-average lines, and added labels. It is this
simplicity that makes <code>cbbplotR</code> an invaluable tool for data
analysis in college basketball.</p>
<p>If available, you can plot dark logos by setting
<code>logo_type</code> to “dark.”</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">acc_team_data</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">adj_o</span>, <span class="va">adj_d</span>, team <span class="op">=</span> <span class="va">team</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/geom_cbb_teams.html">geom_cbb_teams</a></span><span class="op">(</span>width <span class="op">=</span> <span class="fl">0.10</span>, logo_type <span class="op">=</span> <span class="st">"dark"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/geom_lines.html">geom_mean_lines</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x0 <span class="op">=</span> <span class="va">adj_o</span>, y0 <span class="op">=</span> <span class="va">adj_d</span><span class="op">)</span>, color <span class="op">=</span> <span class="st">'black'</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">hrbrthemes</span><span class="fu">::</span><span class="fu">theme_modern_rc</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>plot.title.position <span class="op">=</span> <span class="st">'plot'</span>,</span>
<span>        plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>face <span class="op">=</span> <span class="st">'bold'</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">'Adjusted Efficiencies in the ACC'</span>,</span>
<span>       x <span class="op">=</span> <span class="st">'Adjusted Offense'</span>,</span>
<span>       y <span class="op">=</span> <span class="st">'Adjusted Defense'</span><span class="op">)</span></span></code></pre></div>
<p><img src="dark.png"><!-- --></p>
</div>
<div class="section level3">
<h3 id="conference-logos">Conference Logos<a class="anchor" aria-label="anchor" href="#conference-logos"></a>
</h3>
<p>Using the same process as above, we can quickly create a scatter plot
with conference logos! You can also specify
<code>logo_type = "wordmark"</code> to plot conference wordmarks instead
of logos.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">conf_data</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">adj_o</span>, <span class="va">adj_d</span>, conference <span class="op">=</span> <span class="va">conf</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/geom_cbb_conferences.html">geom_cbb_conferences</a></span><span class="op">(</span>width <span class="op">=</span> <span class="fl">0.12</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/geom_lines.html">geom_mean_lines</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x0 <span class="op">=</span> <span class="va">adj_o</span>, y0 <span class="op">=</span> <span class="va">adj_d</span><span class="op">)</span>, color <span class="op">=</span> <span class="st">'black'</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>plot.title.position <span class="op">=</span> <span class="st">'plot'</span>,</span>
<span>        plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>face <span class="op">=</span> <span class="st">'bold'</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">'Adjusted Efficiencies Across Top 10 Conferences'</span>,</span>
<span>       x <span class="op">=</span> <span class="st">'Adjusted Offense'</span>,</span>
<span>       y <span class="op">=</span> <span class="st">'Adjusted Defense'</span><span class="op">)</span></span></code></pre></div>
<p><img src="plot2.png"><!-- --></p>
<p>An important caveat: Conferences are weird. Many of the logos are
different dimensions and might require fine-tuning inside your
<code>aes</code> by adjusting the <code>size</code> parameter for
certain ones. <code>cbbplotR</code> <em>does</em> automatically resize a
few conferences, but it might not be sufficient for your needs.</p>
</div>
<div class="section level3">
<h3 id="player-headshots">Player Headshots<a class="anchor" aria-label="anchor" href="#player-headshots"></a>
</h3>
<p>With <strong><code>cbbplotR</code></strong>, you can also incorporate
player headshots into your visualizations. While <code>cbbplotR</code>
<em>does</em> provide a helper function to retrieve ESPN player IDs,
<code>get_espn_players</code>, there is no guarantee that player names
will match across any other data source – including
<code>cbbdata</code>. There is no support for player name matching.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">50</span><span class="op">)</span></span>
<span></span>
<span><span class="va">player_ids</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_espn_players.html">get_espn_players</a></span><span class="op">(</span><span class="st">'Duke'</span><span class="op">)</span></span>
<span></span>
<span><span class="va">random_data</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="op">(</span></span>
<span>  val1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">player_ids</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  val2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">player_ids</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  id <span class="op">=</span> <span class="va">player_ids</span><span class="op">$</span><span class="va">id</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">random_data</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">val1</span>, <span class="va">val2</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/geom_cbb_headshots.html">geom_cbb_headshots</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>player_id <span class="op">=</span> <span class="va">id</span>, width <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span></span>
<span>    plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>face <span class="op">=</span> <span class="st">'bold'</span>, size <span class="op">=</span> <span class="fl">14</span><span class="op">)</span>,</span>
<span>    plot.title.position <span class="op">=</span> <span class="st">'plot'</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">'Random data to show plotting headshots'</span><span class="op">)</span></span></code></pre></div>
<p><img src="plot3.png"><!-- --></p>
</div>
</div>
<div class="section level2">
<h2 id="but-i-have-too-many-teams-want-to-focus-on-a-select-few">But I have too many teams // want to focus on a select few!<a class="anchor" aria-label="anchor" href="#but-i-have-too-many-teams-want-to-focus-on-a-select-few"></a>
</h2>
<p>There are <em>a lot</em> of Division 1 basketball teams, and drawing
effective plots with hundreds of logos is challenging. One of the
standout features of <strong><code>cbbplotR</code></strong> is its
ability to highlight specific elements in your plots. This is
particularly useful when dealing with a large number of logos or data
points, but you want to draw attention to only a few key items. You can
apply highlighting to teams, conferences, and players.</p>
<p>Highlighting in <strong><code>cbbplotR</code></strong> is designed to
be both intuitive and flexible. You have several methods at your
disposal:</p>
<ol style="list-style-type: decimal">
<li><p><strong>Transparency Adjustment</strong>: By setting a low alpha
level for all elements except the ones you wish to highlight, you can
subtly bring forward the focus points while keeping the context in the
background.</p></li>
<li><p><strong>Grayscale Application</strong>: Another method involves
converting all non-essential logos to grayscale, making the colored
logos of your highlighted teams or conferences stand out
vividly.</p></li>
</ol>
<div class="section level4">
<h4 id="implementation">Implementation<a class="anchor" aria-label="anchor" href="#implementation"></a>
</h4>
<p>Implementing these methods is straightforward. You can adjust your
data manually, providing <code>alpha</code>and/or <code>color</code>
values to certain teams, and pass those values to an <code>aes</code>
layer – or you could let <code>cbbplotR</code> do the heavy lifting.
Without needing to touch your own data, you can pass a vector of teams,
conferences, or player IDs through the <code>highlight_X</code> argument
of <code>geom_cbb_X</code> functions and specify a highlight type –
<code>alpha</code>, <code>color</code>, or <code>both</code>.</p>
<p>For example, let’s assume that we want to highlight the four Tobacco
Road teams but still show their position relative to the rest of the
ACC.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">acc_team_data</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">adj_o</span>, <span class="va">adj_d</span>, team <span class="op">=</span> <span class="va">team</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/geom_cbb_teams.html">geom_cbb_teams</a></span><span class="op">(</span>highlight_teams <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'Duke'</span>, <span class="st">'North Carolina'</span>, <span class="st">'Wake Forest'</span>, <span class="st">'North Carolina St.'</span><span class="op">)</span>, width <span class="op">=</span> <span class="fl">0.08</span>, highlight_method <span class="op">=</span> <span class="st">'both'</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/geom_lines.html">geom_mean_lines</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x0 <span class="op">=</span> <span class="va">adj_o</span>, y0 <span class="op">=</span> <span class="va">adj_d</span><span class="op">)</span>, color <span class="op">=</span> <span class="st">'black'</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span></span>
<span>    plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>face <span class="op">=</span> <span class="st">'bold'</span>, size <span class="op">=</span> <span class="fl">14</span><span class="op">)</span>,</span>
<span>    plot.title.position <span class="op">=</span> <span class="st">'plot'</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">'Adjusted Efficiencies in the ACC (highlight: transparency)'</span>,</span>
<span>       x <span class="op">=</span> <span class="st">'Adjusted defense'</span>,</span>
<span>       y <span class="op">=</span> <span class="st">'Adjusted offense'</span><span class="op">)</span></span></code></pre></div>
<p><img src="plot4.png"><!-- --></p>
<p>In this example, we chose to highlight our teams by increasing the
transparency <em>and</em> changing logos to grayscale for our
non-selected teams. You can choose to do both,
<code>highlight_method = "both"</code>, or just one,
<code>highlight_method = "alpha"</code> //
<code>highlight_method = "color"</code>.</p>
<p>The process is analogous for the other <code>geom</code> methods –
but the argument names switch relative to the function
(<code>highlight_conferences</code> and
<code>highlight_players</code>).</p>
</div>
</div>
<div class="section level2">
<h2 id="plotting-in-element_-areas">Plotting <strong>in element_ Areas</strong><a class="anchor" aria-label="anchor" href="#plotting-in-element_-areas"></a>
</h2>
<p><strong><code>cbbplotR</code></strong> extends the standard
capabilities of <strong><code>ggplot2</code></strong> by allowing you to
place logos and headshots in various parts of your plot, such as in axes
labels or inline with plot titles.</p>
<div class="section level3">
<h3 id="logos-in-axes">
<strong>Logos in Axes</strong><a class="anchor" aria-label="anchor" href="#logos-in-axes"></a>
</h3>
<p>With <strong><code>element_cbb_teams</code></strong>,
<code>element_cbb_conferences</code>, and
<code>element_cbb_headshots</code>, you can replace traditional axis
text with logos and headshots. Like with the <code>geom_cbb_X</code>
functions, the <code>element_cbb_X</code> functions are just as
intuitive!</p>
<p>Now, let’s plot adjusted offensive efficiency in the ACC while
placing team names on the X-axis.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">acc_team_data</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">team</span>, <span class="va">adj_o</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_col</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span></span>
<span>    plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>face <span class="op">=</span> <span class="st">'bold'</span>, size <span class="op">=</span> <span class="fl">14</span><span class="op">)</span>,</span>
<span>    plot.title.position <span class="op">=</span> <span class="st">'plot'</span>,</span>
<span>    axis.text.x <span class="op">=</span> <span class="fu"><a href="../reference/element_cbb.html">element_cbb_teams</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">0.9</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">'Adjusted Efficiencies in the ACC'</span>,</span>
<span>       y <span class="op">=</span> <span class="st">'Adjusted offense'</span>,</span>
<span>       x <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
<p><img src="plot5.png"><!-- --></p>
<p>And just like that, we have team logos on our axis! We can similarly
do the same with player headshots <em>and</em> conference logos. For
conference logos, you can similarly plot logos or wordmarks by using the
<code>logo_type</code> argument. Let’s try one example using player
headshots.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">50</span><span class="op">)</span></span>
<span></span>
<span><span class="va">player_ids</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_espn_players.html">get_espn_players</a></span><span class="op">(</span><span class="st">'Duke'</span><span class="op">)</span></span>
<span></span>
<span><span class="va">random_data</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="op">(</span></span>
<span>  val1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">player_ids</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  val2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">player_ids</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  id <span class="op">=</span> <span class="va">player_ids</span><span class="op">$</span><span class="va">id</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">random_data</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">id</span>, <span class="va">val2</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_col</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span></span>
<span>    plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>face <span class="op">=</span> <span class="st">'bold'</span>, size <span class="op">=</span> <span class="fl">14</span><span class="op">)</span>,</span>
<span>    plot.title.position <span class="op">=</span> <span class="st">'plot'</span>,</span>
<span>    axis.text.x <span class="op">=</span> <span class="fu"><a href="../reference/element_cbb.html">element_cbb_headshots</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">0.8</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">'Random data to show plotting headshots'</span>,</span>
<span>       x <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
<p><img src="plot6.png"><!-- --></p>
</div>
<div class="section level3">
<h3 id="logos-in-facets">
<strong>Logos in Facets</strong><a class="anchor" aria-label="anchor" href="#logos-in-facets"></a>
</h3>
<p>The <code>element_cbb_X</code> functions also allow for plotting in
facet titles. This is achieved by using an <code>element</code> function
in conjunction with <code>strip.text.x</code> or
<code>strip.text.y</code>.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">facet_data</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">date</span>, <span class="va">avg_rating</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="op">~</span><span class="va">conf</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span></span>
<span>    plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>face <span class="op">=</span> <span class="st">'bold'</span>, size <span class="op">=</span> <span class="fl">14</span><span class="op">)</span>,</span>
<span>    plot.title.position <span class="op">=</span> <span class="st">'plot'</span>,</span>
<span>    strip.text.x <span class="op">=</span> <span class="fu"><a href="../reference/element_cbb.html">element_cbb_conferences</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">'Average T-Rank Rating for Select Conferences in 2024'</span>,</span>
<span>       x <span class="op">=</span> <span class="st">'Date'</span>,</span>
<span>       y <span class="op">=</span> <span class="st">'T-Rank Rating'</span><span class="op">)</span></span></code></pre></div>
<p><img src="plot7.png"><!-- --></p>
</div>
</div>
<div class="section level2">
<h2 id="colors-and-fills">
<strong>Colors and Fills</strong><a class="anchor" aria-label="anchor" href="#colors-and-fills"></a>
</h2>
<p><strong><code>cbbplotR</code></strong> provides powerful
functionalities for incorporating team and conference colors into your
<strong><code>ggplot2</code></strong> visualizations. By using the
<strong><code>scale_color/fill_cbb_X</code></strong> functions, you can
easily map the aesthetic properties of your plots to the official colors
of college basketball teams and conferences.</p>
<p>To make these functions work, simply assign <code>color</code> and/or
<code>fill</code> properties in <code>aes</code> to your team or
conference columns, and then add the appropriate scale function.</p>
<div class="section level3">
<h3 id="using-scale-functions">
<strong>Using Scale Functions</strong><a class="anchor" aria-label="anchor" href="#using-scale-functions"></a>
</h3>
<p>The <code>scale_color_cbb_teams</code> and
<code>scale_fill_cbb_teams</code>  unctions allow you to assign
team-specific colors to various plot elements. The
<code>scale_color_cbb_conferences</code>
and <code>scale_fill_cbb_conferences</code> functions work in the same
manner and allow you to assign conference-specific color values.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">acc_team_data</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">team</span>, <span class="va">adj_o</span>, fill <span class="op">=</span> <span class="va">team</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_col</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/scale_cbb.html">scale_fill_cbb_teams</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span></span>
<span>    plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>face <span class="op">=</span> <span class="st">'bold'</span>, size <span class="op">=</span> <span class="fl">14</span><span class="op">)</span>,</span>
<span>    plot.title.position <span class="op">=</span> <span class="st">'plot'</span>,</span>
<span>    axis.text.x <span class="op">=</span> <span class="fu"><a href="../reference/element_cbb.html">element_cbb_teams</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">0.8</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">'Adjusted Efficiencies in the ACC'</span>,</span>
<span>       y <span class="op">=</span> <span class="st">'Adjusted offense'</span>,</span>
<span>       x <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
<p><img src="plot8.png"><!-- --></p>
</div>
</div>
<div class="section level2">
<h2 id="my-plots-pane-is-freezing-in-rstudio">My Plots pane is freezing in RStudio!<a class="anchor" aria-label="anchor" href="#my-plots-pane-is-freezing-in-rstudio"></a>
</h2>
<p>If you are plotting numerous team logos, you might notice that
RStudio can be slow to return the plot itself – which can possibly lead
to your R session aborting. To fix this, <code>cbbplotR</code> borrows a
function from the <code>ggpath</code> package called
<code>ggpreview</code> – which saves a temporary image of your plot and
returns it in the <em>Viewer</em> pane. It is recommend to then expand
that window in your browser.</p>
<p>To use <code>ggpreview</code>, you need to store your plot as a
variable and then pass it to the <code>ggpreview</code> function. The
function also takes arguments for plot dimensions.</p>
<p>For example, if we were to draw a plot showing every team’s adjusted
efficiencies, that would require rendering 362 logos, which would
definitely cause us some problems. But with <code>ggpreview</code>, we
can store our plot as a variable and view a temporary image of it! This
entire process takes fewer than 10 seconds.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p</span> <span class="op">&lt;-</span> <span class="fu">cbbdata</span><span class="fu">::</span><span class="fu">cbd_torvik_ratings</span><span class="op">(</span>year <span class="op">=</span> <span class="fl">2024</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">adj_d</span>, <span class="va">adj_o</span>, team <span class="op">=</span> <span class="va">team</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/geom_lines.html">geom_mean_lines</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x0 <span class="op">=</span> <span class="va">adj_d</span>, y0 <span class="op">=</span> <span class="va">adj_o</span><span class="op">)</span>, color <span class="op">=</span> <span class="st">'black'</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/geom_cbb_teams.html">geom_cbb_teams</a></span><span class="op">(</span>width <span class="op">=</span> <span class="fl">0.03</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span></span>
<span>    plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>face <span class="op">=</span> <span class="st">'bold'</span>, size <span class="op">=</span> <span class="fl">14</span><span class="op">)</span>,</span>
<span>    plot.title.position <span class="op">=</span> <span class="st">'plot'</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">'Adjusted Team Efficiencies'</span>,</span>
<span>       x <span class="op">=</span> <span class="st">'Adjusted defense'</span>,</span>
<span>       y <span class="op">=</span> <span class="st">'Adjusted offense'</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/ggpreview.html">ggpreview</a></span><span class="op">(</span><span class="va">p</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="gt-utility-functions">gt Utility Functions<a class="anchor" aria-label="anchor" href="#gt-utility-functions"></a>
</h2>
<p><code>cbbplotR</code> ships with a number of utility functions for
use in conjunction with the <code>gt</code> tables package. Notably,
<code>cbbplotR</code> ports over the <code>cbd_gt_logos</code> and
<code>gt_theme_athletic</code> functions from <code>cbbdata</code> – the
former is now called <code>gt_cbb_teams</code> while both are formally
deprecated from the <code>cbbdata</code> package for consistency.</p>
<div class="section level3">
<h3 id="plotting-logos-and-wordmarks">Plotting Logos and Wordmarks<a class="anchor" aria-label="anchor" href="#plotting-logos-and-wordmarks"></a>
</h3>
<p>As mentioned, the <code>gt_cbb_teams</code> and
<code>gt_cbb_conferences</code> functions allow for seamless integration
of team and conference logos in table columns. For practicality, only
conference wordmarks are able to be plotted. If you wish to hide names
from the table, you can set the <code>include_names</code> argument to
<code>FALSE</code>.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">acc_team_data</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">slice</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="va">team</span>, <span class="va">barthag</span>, <span class="va">barthag_rk</span>, <span class="va">adj_o</span>, <span class="va">adj_d</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/gt_cbb_teams.html">gt_cbb_teams</a></span><span class="op">(</span><span class="va">team</span>, <span class="va">team</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/fmt_markdown.html" class="external-link">fmt_markdown</a></span><span class="op">(</span><span class="va">team</span><span class="op">)</span></span></code></pre></div>
<p><img src="tab1.png"><!-- --></p>
<p>We can do the same thing with conference data too. By default,
conference names are excluded from the table.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">conf_data</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">slice</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="va">conf</span>, <span class="va">barthag</span>, <span class="va">adj_o</span>, <span class="va">adj_d</span>, <span class="va">adj_t</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/gt_cbb_conferences.html">gt_cbb_conferences</a></span><span class="op">(</span><span class="va">conf</span>, <span class="va">conf</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/fmt_markdown.html" class="external-link">fmt_markdown</a></span><span class="op">(</span><span class="va">conf</span><span class="op">)</span></span></code></pre></div>
<p><img src="tab2.png"><!-- --></p>
</div>
<div class="section level3">
<h3 id="coloring-rows">Coloring Rows<a class="anchor" aria-label="anchor" href="#coloring-rows"></a>
</h3>
<p><code>cbbplotR</code> includes two helper functions for filling cell
bodies. If you have a win/loss column and wish to fill based on results,
the <code>gt_color_results</code> function is a quick solution. You can
pass through a traditional column with ‘W’ and ‘L’ values, or you can
pass through boolean values and set the <code>result_type</code>
argument to <code>binary</code>. By default, the function expects the
results column to be named <code>result</code> but this can be changed
by using the <code>result_column</code> argument.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  result <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  val1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">6</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">df</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/gt_color_results.html">gt_color_results</a></span><span class="op">(</span>result_type <span class="op">=</span> <span class="st">'binary'</span><span class="op">)</span></span></code></pre></div>
<p><img src="tab3.png"><!-- --></p>
<p>The other utility function is <code>gt_bold_rows</code>. This is a
general catch-all term for a function that allows you to set the
background color and font weight of particular rows. You can either pass
through an empty function, or you can declare some statement that
identifies which rows to alter.</p>
<p>I wrote this function because I often find myself only needing to
bold or highlight <em>certain</em> rows where some condition is true.
For example, let’s bold and highlight <em>only</em> rows where
<code>cyl == 4</code> in the <code>mtcars</code> data set.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mtcars</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">slice</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/gt_bold_rows.html">gt_bold_rows</a></span><span class="op">(</span>filter_statement <span class="op">=</span> <span class="st">"cyl == 4"</span>,</span>
<span>               highlight_color <span class="op">=</span> <span class="st">'darkblue'</span>,</span>
<span>               text_color <span class="op">=</span> <span class="st">'white'</span><span class="op">)</span></span></code></pre></div>
<p><img src="tab4.png"><!-- --></p>
<p>You can further extend this to compound filters. For example, let’s
do the same thing for rows where <code>cyl == 4</code>
<strong>and</strong> <code>hp &gt; 90</code>. This should highlight two
rows.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mtcars</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">slice</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/gt_bold_rows.html">gt_bold_rows</a></span><span class="op">(</span>filter_statement <span class="op">=</span> <span class="st">"cyl == 4 &amp; hp &gt; 90"</span>,</span>
<span>               highlight_color <span class="op">=</span> <span class="st">'darkblue'</span>,</span>
<span>               text_color <span class="op">=</span> <span class="st">'white'</span><span class="op">)</span></span></code></pre></div>
<p><img src="tab5.png"><!-- --></p>
</div>
<div class="section level3">
<h3 id="appearances">Appearances<a class="anchor" aria-label="anchor" href="#appearances"></a>
</h3>
<p><code>cbbplotR</code> ships with three functions that alter the
appearance of <code>gt</code> tables. The first is
<code>gt_cbb_logo_title</code> – a function that neatly adds a
conference logo, team logo, or player headshot in the heading space of
your table.</p>
<p>To work with this function, you will need to declare an optional
title and subtitle and the name of the item to plot. Alternatively, you
can supply a custom link, through <code>logo_link</code>, that will plot
that image. You can adjust various things about the title and subtitle
itself, including the <code>logo_height</code>.</p>
<p>For example, let’s plot the <code>mtcars</code> data set and add
Duke’s logo.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">title</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/gt_cbb_logo_title.html">gt_cbb_logo_title</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">'mtcars data'</span>,</span>
<span>                  subtitle <span class="op">=</span> <span class="st">'some random subtitle'</span>,</span>
<span>                  type <span class="op">=</span> <span class="st">'team'</span>,</span>
<span>                  value <span class="op">=</span> <span class="st">'Duke'</span>,</span>
<span>                  logo_height <span class="op">=</span> <span class="fl">45</span><span class="op">)</span></span>
<span></span>
<span><span class="va">mtcars</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">slice</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/tab_header.html" class="external-link">tab_header</a></span><span class="op">(</span>title <span class="op">=</span> <span class="fu"><a href="https://gt.rstudio.com/reference/html.html" class="external-link">html</a></span><span class="op">(</span><span class="va">title</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="tab6.png"><!-- --></p>
<p>Second, <code>gt_set_fonts</code> is a quick-and-easy solution to
changing the font across all aspects of your <code>gt</code> table. This
is inferior to the fine-tuning allowed by using <code>tab_style</code>
functions but is nice to have for quick tables. By default, the function
will attempt to load the font through Google Fonts. If you would rather
have the font loaded through your system, set
<code>from_google_font</code> to <code>FALSE</code>.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mtcars</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">slice</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/gt_set_font.html">gt_set_font</a></span><span class="op">(</span><span class="st">'Oswald'</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/tab_header.html" class="external-link">tab_header</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">'mtcars'</span><span class="op">)</span></span></code></pre></div>
<p><img src="tab7.png"><!-- --></p>
<p>Lastly, <code>cbbplotR</code> includes a nice <code>gt</code> tables
theme that is perfect for box scores or mono-spaced themes. It is
inspired from <em>The Athletic</em> publication.</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mtcars</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">slice</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/gt_theme_athletic.html">gt_theme_athletic</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/tab_header.html" class="external-link">tab_header</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">'mtcars'</span><span class="op">)</span></span></code></pre></div>
<p><img src="tab8.png"><!-- --></p>
</div>
</div>
<div class="section level2">
<h2 id="support">Support<a class="anchor" aria-label="anchor" href="#support"></a>
</h2>
<p>If you have feature recommendations or run into bugs, <a href="https://github.com/andreweatherman/cbbplotR" class="external-link">please open an issue
on GitHub</a>. You can also <a href="https://twitter.com/andreweatherman" class="external-link">contact me directly on
Twitter</a>, but I would prefer the latter.</p>
<p>If you are looking for more college basketball R packages, <a href="https://cbbdata.aweatherman.com" class="external-link">check out
<code>cbbdata</code></a> – also developed and maintained by me.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Andrew Weatherman.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
